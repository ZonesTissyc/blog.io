[{"content":"问题引入\r网站的静态html文件托管在了github仓库上，每次修改网页构建的文件就git push至github仓库，服务器再git pull拉取仓库，实现网站的更新。\n按照这个流程，每修改一次网站，都要在服务器上执行一次git pull，很不方便。因此要让服务器自动执行这个过程，实现自动化。\n假设网站静态文件仓库在/web/site/index，我们把自动化的脚本放在上一级/web/site1。\n方法一 Crontab定时更新\rcrontab是linux里自带的自动化程序，在crontab -e修改配置文件，定时执行shell命令（通常是运行一个shell脚本），达到自动化的目的。\n创建更新仓库的sh脚本\rnano /web/site1/auto-fetch.sh\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #!/bin/bash REPO_DIR=\u0026#34;/web/site1/index\u0026#34; # 切换到git目录 cd \u0026#34;$REPO_DIR\u0026#34; || exit 1 echo \u0026#34;[`date`] Forcing git fetch and reset...\u0026#34; \u0026gt;\u0026gt; /web/site1/git_pull.log # 写入日志 # 取最新远程变更 git fetch origin # 强制把本地重置为远程分支 git reset --hard origin/main # 可选：清理多余文件 git clean -fd echo \u0026#34;[`date`] Update complete\u0026#34; \u0026gt;\u0026gt; /web/site1/git_pull.log 别忘了赋权\n1 chmod +x /web/site1/auto-fetch.sh 配置crontab\r使用crontab -e修改crontab的配置文件\n在末尾加入两行\n1 2 */1 * * * * /bin/bash /web/site1/auto-fetch.sh \u0026gt;\u0026gt; /web/site1/cron-sync.log 2\u0026gt;\u0026amp;1 0 0 * * * \u0026gt; /web/site1/cron-sync.log 第一行 */1 * * * *是每隔一分钟执行一次，运行auto-fetch.sh，并将错误输出连同标准输出写入cron-sync.log。\n第二行是每天0点清空cron-sync.log，避免日志文件无限增大。\n保存退出后，crontab就立即生效了。\n方法二 webhook实时更新\rcrontab的配置过程简单，但缺点是定时。因为是强制更新，因此crontab设置自动更新的时间间隔不宜过短，因为会影响性能。\nwebhook可以实时监听远程仓库的状态，当且仅当远程仓库变化时，服务器才自动push。\n创建更新脚本\r这一步参考crontab的auto-fetch脚本\n编写webhook服务脚本\r这里要用到python的flask模块\npip3 install flask\nnano /web/site1/webhook_server.py\n写入\n1 2 3 4 5 6 7 8 9 10 11 12 from flask import Flask, request import subprocess app = Flask(__name__) @app.route(\u0026#39;/git-webhook\u0026#39;, methods=[\u0026#39;POST\u0026#39;]) def webhook(): subprocess.Popen([\u0026#39;/web/site1/auto-fetch.sh\u0026#39;]) return \u0026#39;Webhook received\u0026#39;, 200 if __name__ == \u0026#39;__main__\u0026#39;: app.run(host=\u0026#39;0.0.0.0\u0026#39;, port=9000) 根据自身情况修改 subprocess.Popen的脚本路径 和 port=9000 的端口号。（这个webhook是运行在服务器上的，注意端口是否被占用）\n创建 systemd 服务管理 webhook\rnano /etc/systemd/system/git-webhook.service\n写入\n1 2 3 4 5 6 7 8 9 10 11 12 [Unit] Description=Git Webhook Listener After=network.target [Service] User=root WorkingDirectory=/web/site1 ExecStart=/usr/bin/python3 /web/site1/webhook_server.py Restart=always [Install] WantedBy=multi-user.target 上面的User=root，按需修改成可以执行脚本的用户\n启用并启动\n1 2 3 systemctl daemon-reexec systemctl daemon-reload systemctl enable --now git-webhook.service 查看状态\nsudo systemctl status git-webhook.service\ngithub设置webhook\r点进项目仓库，上边栏找到Settings，点击Webhooks。\n点击Add webhook。\nPayload URL = http://your-server-ip:9000/git-webhook\nContent type = application/json\nEvents = Push events\n保存后检查是否正常工作\n定时清空日志\r仍使用crontab来清空git的日志\n只需要在crontab配置文件加一条即可：\n0 0 * * * \u0026gt; /web/site1//web/site1/git_pull.log\n小结\r如果应付简单的场景，crontab足矣。\n追求实时更新和性能，更推荐监听webhook的方式。\n","date":"2025-04-20T17:15:09+08:00","permalink":"https://blog.ztcdream.top/p/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E5%8A%A8%E6%8B%89%E5%8F%96%E4%BB%93%E5%BA%93/","title":"服务器自动拉取仓库"},{"content":"这不对吧？从一个例子讲起\r请读者先仔细观察下面的代码\n1 2 3 4 5 int a=8; if (a\u0026lt;9){ int b=a; } cout\u0026lt;\u0026lt;b; 提问：上面会输出什么？\n你心想：这还用问，b=a=8，当然输出8了。\n然而，结果却是\n'b' was not declared in this scope\n这不对吧？为什么b是未定义的？这是因为c语言中有作用域的概念。\n代码块\rc++中用花括号 { } 标识一个代码块, { } 内的所有语句被视为一句语句。在if,while,for等控制语句中经常用到。\n块级作用域\rc语言规定 { }里新定义的变量，只能在当前{ }里使用 ，即块级作用域。\n1 2 3 4 int a; { int b; } 上面内的变量b，只能在 { } 里使用。\n下面的例子更是典型：\n1 2 3 4 for(int i=0;i\u0026lt;8;i++){ continue; } cout\u0026lt;\u0026lt;i\u0026lt;\u0026lt;endl; 上面的输出是什么？\n答案不是输出9。因为这里的for语句就是一个代码块，在里面新定义的变量只能在for语句中使用。\n想让for语句结束后输出变量i，那么变量i必须在for语句之前定义。\n下面两种方案是可行的：\n1 2 3 4 5 int i; for(i=0; i\u0026lt;8; i++){ continue; } cout\u0026lt;\u0026lt;i\u0026lt;\u0026lt;endl; 或\n1 2 3 4 5 int i=0; for(; i\u0026lt;8; i++){ continue; } cout\u0026lt;\u0026lt;i\u0026lt;\u0026lt;endl; 作用域遮蔽(Shadowing)\r{ } 代码块外部若已定义一个变量，在 { } 里允许对该变量重新定义，且仅在该代码块内失效。\n1 2 3 4 5 6 int a=0; { float a=5.6; cout\u0026lt;\u0026lt;a\u0026lt;\u0026lt;endl; } cout\u0026lt;\u0026lt;a\u0026lt;\u0026lt;endl; 输出 $5.6$ 和 $0$\n函数作用域\r在自定义函数里定义的普通变量，是局部变量，仅在该函数体内可用。\n特别要注意的是，main函数也是函数，在main里定义的变量在自定义函数里是无法直接使用的。\n1 2 3 4 5 6 7 8 9 10 ... int main(){ int a=5; couta(); ... } void couta(){ cout\u0026lt;\u0026lt;a\u0026lt;\u0026lt;endl; } 这里couta函数无法使用a，因为a是main的局部变量。\n要想在couta()里使用a，可以在main前初始化a。\n1 2 3 4 5 6 7 8 9 10 11 12 ... int a; int main(){ a=5; couta(); ... } void couta(){ cout\u0026lt;\u0026lt;a\u0026lt;\u0026lt;endl; } 总结\r块级作用域 { }，可以简单理解成中央与地方的关系。\n{ } 外面的变量相当于是中央文件， { } 内部的变量看作地方法规。中央出台的文件对所有地方省份都生效，各省份可以根据自身情况修改中央文件，或者制定新的法规。地方修改后的中央文件和新法规也仅对该区域生效，不会影响到中央和其他地方省份。\n小测\r1\r下面的for循环可以完整输出字符数组strA的所有内容吗？如果不能，请改正。\n1 2 3 4 5 6 7 8 ... int i=0,j=0; char strA[2][6]={\u0026#34;Hello\u0026#34;,\u0026#34;world\u0026#34;}; for (; i\u0026lt;2; i++){ for (; j\u0026lt;5; j++){ cout\u0026lt;\u0026lt;strA[i][j]; } } 2\r下面的语句能不能判断a是不是质数？如果不能，请更正。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 ... int a; a=11; for(int i=2; i\u0026lt;2; i++){ if (a/i==0){ break; } } if (i==a){ cout\u0026lt;\u0026lt;a\u0026lt;\u0026lt;\u0026#34;是质数\u0026#34;\u0026lt;\u0026lt;endl; } else{ cout\u0026lt;\u0026lt;a\u0026lt;\u0026lt;\u0026#34;不是质数\u0026#34;\u0026lt;\u0026lt;endl; } 3\r思考下面代码的运行结果：\n1 2 3 4 5 6 7 8 9 10 ... int a,b,c; a=3,b=5,c=8; { c=b; int b=a; cout\u0026lt;\u0026lt;b\u0026lt;\u0026lt;\u0026#39; \u0026#39;; } cout\u0026lt;\u0026lt;b\u0026lt;\u0026lt;\u0026#39; \u0026#39;; cout\u0026lt;\u0026lt;c; ","date":"2025-04-20T17:09:00+08:00","permalink":"https://blog.ztcdream.top/p/%E6%98%93%E9%94%99c-%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%A6%82%E5%BF%B5/","title":"（易错）C++的作用域概念"},{"content":"错误呈现\r给出$3$阶矩阵$|A|=\\frac{1}{2}$，求$|A^*|$.\n一看有$|A|$和$|A^*|$，很容易联想到伴随矩阵的性质：\n$$\rAA^*=A*A=|A|E\r$$则\n$$\r\\begin{aligned}\r|AA^*| =|A||A^*|\u0026=||A|E| \\\\\r\u0026= |A||E| \\\\\r\u0026= |A|\r\\end{aligned}\r$$两边约去$|A|$，得\n$$\r|A^*|=1\r$$似乎题目给出的$|A|=\\frac{1}{2}$是多余的。\n错误分析\r但是，这对吗？\n这不对！\n问题就出在将$||A|E|$最外层的 $||$去掉这一步\n$$\r\\begin{aligned}\r||A|E| \u0026 \\ne |A||E| \\\\\r||A|E| \u0026= |A|^3|E| \\\\\r\u0026= |A|^3\r\\end{aligned}\r$$总结\r因此对于一个$n$阶矩阵$A$，$A$可逆，那么伴随矩阵：\n$$\r\\begin{aligned}\r|A^*|=|A|^{n-1}\r\\end{aligned}\r$$","date":"2025-04-16T20:39:48+08:00","permalink":"https://blog.ztcdream.top/p/%E6%98%93%E9%94%99%E6%B1%82%E4%BC%B4%E9%9A%8F%E7%9F%A9%E9%98%B5%E7%9A%84%E8%A1%8C%E5%88%97%E5%BC%8F/","title":"（易错）求伴随矩阵的行列式"},{"content":"激活工具\rHEU_KMS_Activator\r项目地址 https://github.com/zbezj/HEU_KMS_Activator\n下载直链 HEU_KMS_Activator_v42.3.1\n压缩工具\r360压缩国际版\r官网地址 https://www.360totalsecurity.com/en/360zip/\n下载直链 360ZIP.exe\n安全软件\r火绒安全软件\r官网地址 https://www.huorong.cn/\n下载直链 火绒安全6.0\n注册表优化\rDismm++\r项目地址 https://github.com/Chuyu-Team/Dism-Multi-language\n下载直链 Dism++\n剪贴板\rCopyQ\r项目地址 https://github.com/hluk/CopyQ/\n下载直链 CopyQ\n音量控制\rEarTrumpet\r项目官网 https://github.com/File-New-Project/EarTrumpet\n下载直链 EarTrumpet\n截图\rSnipaste\r官网地址 https://zh.snipaste.com/\n哈希校验\rHashCaculator\r项目地址 https://github.com/hrpzcf/HashCalculator 下载直链 HashCaculator\n代理工具\rNekoray\r项目地址 https://github.com/MatsuriDayo/nekoray\n下载直链 nekoray.zip\nTailscale\r官网地址 https://www.tailscale.com\n","date":"2025-01-17T23:01:01+08:00","permalink":"https://blog.ztcdream.top/p/win%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/","title":"Win系统工具"},{"content":"先上例题\r设函数$f$有二阶连续偏导，且$z=f(xy,x+y)$.\n求\n$$ \\frac{\\partial^2z}{\\partial xy} $$分析\r求二阶偏导，先求出一阶偏导。 当二阶偏导连续，有：\n$$ \\frac{\\partial^2z}{\\partial xy} = \\frac{\\partial (\\frac{\\partial x}{\\partial y})}{\\partial x} = \\frac{\\partial(\\frac{\\partial z}{\\partial x})}{\\partial y} $$\n注意到$f_1$和$f_2$均有$(xy),(x+y)$的变量\n总结\r对于抽象函数\n$$ z = f(g_1,g_2,g_3 \\dots) $$其中，$g_1,g_2,g_3,\\dots$是关于$x,y$的二元或一元函数\n则，\n$$ \\begin{aligned} \\frac{\\partial z}{\\partial x} \u0026 = f_1g_{1_x} + f_2g_{2_x} + f_3g_{3_x} +\\dots \\\\ \\frac{\\partial^2z}{\\partial xy} \u0026= \\frac{d(g_{1_x})}{dy}f_1+g_{1_x}(f_{11}\\frac{\\partial g_1}{\\partial y}+f_{12}\\frac{\\partial g_2}{\\partial y}+\\dots) + \\dots \\end{aligned} $$注意到，$f_1$仍然是包含$g_n$的函数。例如\n$$ \\begin{aligned} z \u0026 = f(u,v) = u^v \\\\ \\frac{\\partial z}{\\partial u} \u0026= f_1(u,v)=vu^{v-1} \\end{aligned} $$","date":"2025-01-06T18:22:38+08:00","permalink":"https://blog.ztcdream.top/p/%E5%A4%9A%E5%85%83%E5%87%BD%E6%95%B0%E4%BA%8C%E9%98%B6%E5%81%8F%E5%AF%BC/","title":"多元函数二阶偏导"},{"content":"图\r","date":"2025-01-04T19:01:40+08:00","permalink":"https://blog.ztcdream.top/p/%E4%BA%8C%E5%85%83%E5%87%BD%E6%95%B0%E5%81%8F%E5%BE%AE%E5%95%86%E4%B8%8E%E8%BF%9E%E7%BB%AD%E7%9A%84%E5%85%B3%E7%B3%BB/","title":"二元函数偏微商与连续的关系"},{"content":"最大公因数问题\r任给两个不全为零的整数，必存在一个的数，它同时是两个数的因子，这个数称为公因数。\n不互质的两个数的公因数可以有多个，寻找最大的公因数就被称为最大公因数问题。\n设有两个非零整数$a,b$，其最大公因数可表示为\n$$ (a,b) $$例如，\n$$ (4,6) = 2 $$短除法\r小学二年级时我们已经知道，可以使用短除法来先找出所有的较小公因数，再把他们相乘。\n例如求$(12,16)$，\n对于较小的整数，这个方法也蛮好用的，但对于稍大的数，我们很难看出除数是几。比如$(5423,3157)$，使用短除法，找第一个除数都要花不少时间。\n不难看出，短除法的思路是不断将两个数同时倍比缩小，直到无法继续同除一个数，在这个过程中也就找到了这个最大公因数的因式。但关键在于无法确定每一步的除数，实际情况可能是一个一个试，保险起见还可能是从小到大试。这样的复杂度无异于直接将两数都分解，但我们只需要最大公因数，而我们却多此一举，找出了这个数的因式。\n依据这个算法，可以写成\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 def gcd_short_division(a, b): if a \u0026lt; b: a, b = b, a # 确保 a 是较大的数 divisor = 2 # 从最小的质数开始 gcd = 1 # 初始最大公约数为 1 while a \u0026gt;= divisor and b \u0026gt;= divisor: if a % divisor == 0 and b % divisor == 0: # 如果 divisor 是 a 和 b 的公因数 gcd *= divisor a //= divisor b //= divisor elif a % divisor == 0: a //= divisor # 只对 a 进行除法 elif b % divisor == 0: b //= divisor # 只对 b 进行除法 else: divisor += 1 # 尝试下一个更大的因数 return gcd 辗转相除法\r定理：设整数$a/b$的余数为$r$,则\n$$(a,b)=(b,r)$$通过不断重复，直到$b_i/r_i=c$可以整除，那么$(a,b)=r_i$\n以$(5423,3157)$为例，\n最后$22/11=2$，最后的除数$11$就是最大公因数。\n代码实现\r该算法是循环过程，当$a\u0026gt;b$时，运算r_1=a%b ，重复r_i=b_(i-1)%r_(i-1)，直到r_i=0，输出r_(i-1)。\n代码实现如下，\n1 2 3 4 5 6 7 8 9 10 def gcd_euclidean(a, b): while b != 0: a, b = b, a % b return a # 测试 a = 3157 b = 5423 gcd = gcd_euclidean(a,b) print(gcd) 注意到，这里不用判断$a,b$的大小,如果 $a\u0026lt;b$，第一次相除后变成了gcd(b,a)\n对比短除法，可谓是相当简洁了。\n最小公倍数问题\r求一个两个数的最小公倍数$(GCD)$，可以用\n$$ \\begin{aligned} lcm(a,b) = \\frac{|a \\times b|}{gcd(a,b)} \\end{aligned} $$已知最大公因数，即可求出最小公倍数\n代码实现\r1 2 3 4 5 6 7 8 9 10 11 12 13 14 def lcm_euclidean(a,b): c = a d = b while d != 0: c, d = d, c % d lcm = abs(a*b)/c return lcm # 测试 a = 24 b = 28 lcm = lcm_euclidean(a,b) print(lcm) ","date":"2024-12-31T16:19:08+08:00","permalink":"https://blog.ztcdream.top/p/%E8%BE%97%E8%BD%AC%E7%9B%B8%E9%99%A4%E6%B3%95/","title":"辗转相除法"},{"content":"先上图\r公式\rb=ac\r任意函数等于相邻函数的乘积\n例如，\n$$ \\begin{aligned} \\tan x \u0026 =\\sec x \\sin x \\\\ \\sin x \u0026 =\\tan x \\cos x \\\\ \\end{aligned} $$平方和与1的关系\r我们知道，\n$$ \\sin^2 x + \\cos^2 x = 1 $$实际上，对应图中所有的最小倒立三角形，\n1 底部平方 = 上面两个的平方和 例如，\n$$ \\begin{aligned} \\sin^2 x + \\cos^2 x \u0026=1 \\\\ \\tan^2 x + 1 \u0026= \\sec^2 x \\\\ 1 + \\cot^2 x \u0026= \\csc^2 x \\end{aligned} $$求导积分\r记住口诀\n1 2 中下二，下中下 \\\\ 导相乘，对对和 无论求导还是积分，中间的函数($\\tan x,\\cot x$)积分/求导后，只与其下方的函数有关；下方的函数求导/积分，与中间和下方（自己）有关。\n如果是求导，则相乘；积分则相加，加绝对值，取对数。\n例如，$\\tan x$，\n找相关函数。\n$tan x$在中间，由中下二，求导/积分后与 $\\sec x$,$\\sec x$有关,即$D(\\sec x,\\sec x)$\n确定运算符\n如果是求导，则相乘：$\\sec x \\times \\sec x$。积分，相加，加绝对值，取对数:$\\ln|\\sec x+\\sec x|$\n确定正负，积分加C\n左边的函数求导/积分为正，右边为负。\n$$\\int\\tan xdx=-\\ln |2\\sec x|+C$$ 适当化简\n如$-\\ln |2\\sec x|+C=-\\ln |\\sec x|+C$\n笔记附图\r","date":"2024-12-30T19:54:39+08:00","permalink":"https://blog.ztcdream.top/p/%E4%B8%80%E5%BC%A0%E5%9B%BE%E5%B7%A7%E8%AE%A1%E4%B8%89%E8%A7%92%E6%B1%82%E5%AF%BC%E7%A7%AF%E5%88%86%E5%85%AC%E5%BC%8F/","title":"一张图巧计三角求导积分公式"},{"content":"题干\r$$ \\int_0^1 \\frac{1}{(x+1)(x^2-2x+2)}dx. $$解题\r设\r$$ \\frac{1}{(x+1)(x^2-2x+2)}=\\frac{A}{x+1}+\\frac{Bx+D}{x^2-2x+2} $$通分\r$$ (A+B)x^2+(B+D-2A)x+2A+D-1=0 $$列方程组\r$$ \\left \\{ \\begin{aligned} \u0026 A+B=0 \\\\ \u0026 D+B-2A =0 \\\\ \u0026 2A+D-1 =0 \\end{aligned} \\right. $$解得\n$$ \\left \\{ \\begin{aligned} \u0026 A=\\frac{1}{5} \\\\ \u0026 B=-\\frac{1}{5} \\\\ \u0026 D=\\frac{3}{5} \\end{aligned} \\right. $$代入\r$$ \\frac{1}{(x+1)(x^2-2x+2)}=\\frac{1}{5(x+1)}+\\frac{-x+3}{5(x^2-2x+2)} $$剩下的就是有理函数的积分的内容了\n","date":"2024-12-30T11:23:47+08:00","permalink":"https://blog.ztcdream.top/p/%E8%80%83%E7%A0%94%E9%A2%98-%E4%B8%8D%E5%AE%9A%E7%A7%AF%E5%88%86/","title":"考研题-不定积分"},{"content":"定义\r约定有理真分式 $$\\frac{P(x)}{Q(x)}=\\frac{P(x)}{c_0(x-a)^k(x^2+px+q)^l}$$ ,（其中$k$,$l$是正整数，$p^2-4q\u0026lt;0$） 可唯一因式分解为有限个最简有理分式之和，即 $$ \\frac{P(x)}{Q(x)}=\\frac{A_1}{x-a}+\\frac{A_2}{(x-a)^2}+\\cdots+\\frac{A_k}{(x-a)^k} + \\frac{B_1x+D_1}{x^2+px+q}+\\frac{B_2x+D_2}{x^2+px+q}+\\cdots+\\frac{B_lx+D_l}{x^2+px+q} $$化简\r一些例题往往不是上面的形式，但有的可以进行化简。\n分母化低次\r例如分母为$(x+1)^3(x^3+1)^2$，其中的\n$$ \\begin{split} (x^3+1)^2 \u0026= (x+1)^2(x^2-x+1)^2 \\end{split} $$因此分母可写为，\n$$ (x+1)^5(x^2-x+1)^2 $$分子化低次\r如果分母没问题，分子次数太高，需保证该分式为真分式。\n求出$A_i,$ $B_l,$ $D_l$\r待定系数\r一言不合，直接开干。\n直接通分后列出关于$A_i,$ $B_l,$ $D_l$的等式组，解出对应值。\n优点：\n容易想到 简单的式子好用 缺点：\n难通分，通分时写许多式子，打开平方等 举教材中的一个例题\n$$ \\int \\frac{x+2}{(2x+1)(x^2+x+1)} dx $$可设\n$$ \\frac{x+2}{(2x+1)(x^2+x+1)} = \\frac{A}{2x+1} + \\frac{Bx+D}{x^2+x+1} $$化简\n$$ \\begin{aligned} x+2 \u0026= A(x^2+x+1)+(Bx+D)(2x+1) \\\\ \u0026= (A+2B)x^2 + (A+B+2D)x +A+D \\end{aligned} $$对应次数前的系数相等，因此\n$$ \\left \\{ \\begin{aligned} \u0026 A+2B = 0 \\\\ \u0026 A+B+2D = 1 \\\\ \u0026 A + D =2 \\end{aligned} \\right. $$解得，\n$$ \\left \\{ \\begin{aligned} \u0026 A =2 \\\\ \u0026 B =-1 \\\\ \u0026 D = 0 \\end{aligned} \\right. $$因此，原积分化为\n$$ \\begin{aligned} \\int \\frac{x+2}{(2x+1)(x^2+x+1)} dx \u0026= \\int (\\frac{2}{2x+1}-\\frac{x}{x^2+x+}) dx \\\\ \u0026= \\int \\frac{2}{2x+1}dx- \\int \\frac{x}{x^2+x+1} dx \\end{aligned} $$留数法\r当设出\n$$ \\frac{x+2}{(2x+1)(x^2+x+1)} = \\frac{A}{2x+1} + \\frac{Bx+D}{x^2+x+1} $$想要不通分，因为通分过程相当耗时，最后得到的一次方程组也不一定好解。 因此用留数和极限的技巧将A,B,D解出\n求一次项待定系数A\r如求$A$,两边乘上$A$下的分母$(2x+1)$,让$A$的分母消失\n$$ \\frac{x+2}{x^2+x+1}=A+\\frac{(Bx+D)(2x+1)}{x^2+x+1} $$再令$2x+1=0$，即$x=-\\frac{1}{2}$，让$A$右边的等式消失\n$$ \\begin{aligned} \\frac{x+2}{x^2+x+1} \u0026 = A \\\\ \\end{aligned} $$这时，直接得到A的分式，带入$x=-\\frac{1}{2}$即可\n$$ A=\\frac{-\\frac{1}{2}+2}{(-\\frac{1}{2})^2+(-\\frac{1}{2})+1}=2 $$求二次项的待定系数B,D\r仿照上面求$A$的思路，不难想到也是两边乘上$(x^2+x+1)$，\n$$ \\frac{x+2}{2x+1}=\\frac{A(x^2+x+1)}{2x+1}+Bx+D $$再令$x^2+x+1=0$，解出$x$\n注意到，$x$的解是两个复数根，不好求，求出来代入也不好化简。因此要另想办法。\n回到刚才求$A$时，两边乘上$(2x+1)$\n$$ \\begin{aligned} \\frac{x+2}{x^2+x+1}=A+\\frac{(Bx+D)(2x+1)}{x^2+x+1} \\end{aligned} $$两边同时取$x \\to \\infty$的极限\n$$ \\begin{aligned} \\lim_{x \\to \\infty}\\frac{x+2}{x^2+x+1} \u0026 = \\lim_{x \\to \\infty} [A+\\frac{(Bx+D)(2x+1)}{x^2+x+1}] \\\\ 0 \u0026= 2 + \\lim_{x \\to \\infty}\\frac{2Bx^2+2Dx+Bx+D}{x^2+x+1} \\\\ B \u0026= -1 \\end{aligned} $$再令$x=0$，（可以是其他好算的值）\n$$ \\begin{aligned} 2 \u0026 = A + D \\\\ D \u0026= 2-A =0 \\end{aligned} $$","date":"2024-12-25T18:05:10+08:00","permalink":"https://blog.ztcdream.top/p/%E5%88%86%E6%AF%8D%E4%BD%8E%E6%AC%A1%E5%B9%82%E7%A7%AF%E5%9E%8B%E7%9A%84%E4%B8%8D%E5%AE%9A%E7%A7%AF%E5%88%86/","title":"分母低次幂积型的不定积分"},{"content":"基本三角函数的积分\r$$\\int \\sin x dx=-\\cos x+C$$ $$\\int \\cos x dx=\\sin x+C$$ $$\\int \\tan x dx=-\\ln |\\cos x|+C$$ $$\\int \\sec x dx = \\ln |\\sec x + \\tan x|+C$$ $$\\int \\csc x dx = \\ln |\\csc x - \\cot x|+C$$ 类型1\r$$\\int \\frac{1}{(x^2-2x+2)^2}dx$$分母为二次最简式，尝试写成$((x-c)^2+A)^2$的形式。 分母\n$$(x^2-2x+2)^2 = ((x-1)^2+1)^2$$ 令$x-1=\\tan x$，则$x=\\tan x +1$\n分母为$((\\tan t)^2+1)^2=\\sec^4 t$\n$dx = \\sec^2 t$\n于是，原式为\n$$ \\begin{split} I \u0026= \\int \\frac{1}{(x^2-2x+2)^2}dx \\\\\\\\ \u0026= \\int \\frac{1}{\\sec^4 t} \\sec^2 t dt \\\\\\\\ \u0026= \\int \\cos^2 t dt \\\\\\\\ \u0026= \\frac{t}{2}+\\frac{\\sin 2t}{4}+C \\\\\\\\ \u0026= \\frac{t}{2}+\\frac{\\sin t \\cos t}{2}+C \\\\\\\\ \\end{split} $$注意到， 在三角形中，\n","date":"2024-12-14T16:10:48+08:00","permalink":"https://blog.ztcdream.top/p/%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0%E7%9A%84%E7%A7%AF%E5%88%86/","title":"三角函数的积分"},{"content":"什么是有理函数\r设$f(x)$是定义在$D$上的函数，若存在$F(x)$，使得$f(x)$在$D$上的任一开区间上都有定义，且$F(x)$在$D$上连续，则称$F(x)$为$f(x)$的原函数，记作$F(x)=f(x)+C$，其中$C$是任意常数。\n对于一个函数$f(x)$，若$f(x)$可以表示为以下形式： $$\rf(x)=\\frac{P(x)}{Q(x)}\r$$ 其中$P(x)$和$Q(x)$是两个多项式函数，且$Q(x)$的最高次项系数不为0，则称$f(x)$为有理函数。\n有理函数的积分方法\r接下来逐级讨论不同复杂度的积分方法。这里设$P(x)$的最高次项为$p$，$Q(x)$的最高次项为$q$。\np=0, q\u0026gt;0的类型\r$$\\int \\frac{1}{x}dx$$ $$\\int \\frac{1}{x+3}dx$$此类型可直接找出原函数，如(2)为 $ln|x+3|+C$。\n类似的， $$\r\\int \\frac{1}{1+x^2} dx= \\frac{1}{2} \\arctan x +C,\r$$$$\r\\int \\frac{1}{x^q}dx = \\frac{x^{1-q}}{1-q} +C\r$$$$\r\\int \\frac{1}{ax+b} dx = \\frac{1}{a} \\ln |x+\\frac{b}{a}| +C\r$$将x升高次数，令q=2\n$$\\int \\frac{1}{x^2+3}dx$$ 此类型分母可以写成 $(x-c)^2 \\pm a^2$的形式。\n如为$x^2+a^2$,\n$$\r\\int \\frac{1}{x^2+a^2} dx = \\frac{1}{a} \\arctan (\\frac{x}{a}) +C\r$$ $$\\int \\frac{1}{x^2-3} dx$$ 该题与题$3$一样，不过分母变为$x^2-(\\sqrt{3})^2$,\n如果分母为$x^2-a^2$,\n$$\r\\int \\frac{1}{x^2-a^2} dx = \\frac{1}{2a} \\int (\\frac{1}{x-a}-\\frac{1}{x+a}) dx = \\frac{1}{2a} \\ln \\mid \\frac{x-a}{x+a} \\mid +C\r$$ $$\\int \\frac{1}{x^2-5x}dx$$ 此类分母的二次方程常数为$0$，一次项系数不为$0$，即$\\frac{1}{x^2+bx}$型 将分母化为$x(x+b)$ 即得， $$\r\\int \\frac{1}{x^2+bx} dx = \\frac{1}{b} \\int (\\frac{1}{x}-\\frac{1}{x+b})dx = \\frac{1}{b} \\ln \\mid \\frac{x}{x+b} \\mid +C\r$$ $$\\int \\frac{1}{x^2+3x+2}dx$$此类分母的二次方程常数为$0$，一次项系数不为$0$，即$\\frac{1}{x^2+bx}$型难以将分母化为上面的形式。 需将分母化为$(x-c)^2 \\pm a^2$的形式 对于本题，不妨设 $$(x-c)^2+A = x^2+3x+2$$ 解得，\n$$\r\\begin{matrix} c=-\\frac{3}{2} \\\\A=-\\frac{1}{4}\\end{matrix}\r$$ 原式\n$$\r= \\int \\frac{1}{(x+\\frac{3}{2})^2-(\\frac{1}{2})^2}dx\r$$ 再用$3.$与$4.$的方法进一步求出积分\np=1, q\u0026gt;1的类型\r$$\\int \\frac{3x}{x^2+3x+4}dx$$ 此类分母的的一次项系数与常数项不为0，即$\\frac{ax+c}{x^2+px+q}$型，且有$p^2-4aq\u0026lt;0$。此时分母在实数范围内无法写成$(x-a)(x-b)$的形式。我们称此时分母最简。\n对于本题，不妨设$u=x^2+3x+4$,$du = 2x+3$ 分子\n$$3x=\\frac{3}{2}[(2x+3)-\\frac{9}{2}]$$$$\rI = \\frac{3}{2}(\\int \\frac{2x+3}{x^2+3x+4}dx - \\frac{9}{2} \\int \\frac{1}{x^+3x+4}dx)\r$$再用上述方法进一步求积分。\n$$\\int \\frac{3x}{x^2+3x-4}dx$$此类分母的的一次项系数与常数项不为0，即$\\frac{ax+c}{x^2+px+q}$型，且有$p^2-4aq\u0026gt;0$。此时分母在实数范围内可以写成$(x-a)(x-b)$的形式。\n将分母化为$(x+4)(x-1)$\n$$\rI = \\frac{3}{5} (\\ln |\\frac{x-1}{x+4}|) +C\r$$当然，也可以用$1.$的方法进一步求积分。\n$$\\int \\frac{3x+3}{x^2+3x+4}dx$$分子有常数项，可以用$1.$和$2.$的思路。\n到现在，形如\n$$\\int \\frac{ax+c}{x^2+px+q}dx$$ 的积分可求\np=q=2的类型\r$$\\int \\frac{3x^2+3x}{x^2+3x+4}dx$$ 分子和分母最高次均为2，可以将分母为基准进行参变分离。\n本题可化为，\n$$\r\\begin{align}\rI \u0026= \\int \\frac{3(x^2+3x+4)-6x-12}{x^2+3x+4} dx \\\\\r\u0026= 3 \\int dx - \\int \\frac{6x+12}{x^2+3x+4} dx\r\\end{align}\r$$因此，形如，\n$$\r\\int \\frac{ax^2+bx+c}{x^2+px+q}dx\r$$的积分可求。\nq\u0026gt;p\u0026gt;2的类型\r$$\\int \\frac{x^2+3x+4}{x^3+3x^2+2x}dx$$ 分子和分母最高次均大于2，可以将分母为基准因式分解。\n分母可化为, $x(x+1)(x+2)$. 原式化为，\n$$\r\\begin{split}\rI \u0026= \\int \\frac{x^2+3x+4}{x(x+1)(x+2)}dx\r\\\\\r\u0026= \\int ( \\frac{2}{x} - \\frac{2}{x+1}+ \\frac{1}{x+2})dx\r\\end{split}\r$$ $$\\int \\frac{x^2+3x+4}{x^3+3x^2+2x+1}dx$$此时不可以将分母为基准因式分解，分部积分与换元积分均失效。 无法写成初等函数的形式。\np\u0026gt;q=2的类型\r$$\\int \\frac{x^4}{x^2-3}dx$$ 此类可以用多项式的除法对分子进行分离。\n$$\r\\begin{split}\r\u0026\\underline{x^2+3} \\\\\rx^2-3)\u0026x^4 \\\\\r\u0026\\underline{x^4-3x^2} \\\\\r\u00263x^2 \\\\\r\u0026\\underline{3x^2-9} \\\\\r\u00269\r\\end{split}\r$$原式可以化为，\n$$\r\\begin{split}\rI = \\int (x^2+3) + \\frac{9}{x^2+3}dx\r\\end{split}\r$$因此，形如， $$\\int \\frac{ax^p+mx^{p-1}+\\cdots +C}{x^2+bx+c}dx$$的积分可求。\n分母低次幂积型\r约定有理真分式$\\frac{P(x)}{Q(x)}=\\frac{P(x)}{c_0(x-a)^k(x^2+px+q)^l}$,（其中$k$,$l$是正整数，$p^2-4q\u0026lt;0$） 可唯一因式分解为有限个最简有理分式之和，即 $$\r\\frac{P(x)}{Q(x)}=\\frac{A_1}{x-a}+\\frac{A_2}{(x-a)^2}+\\cdots+\\frac{A_k}{(x-a)^k} + \\frac{B_1x+D_1}{x^2+px+q}+\\frac{B_2x+D_2}{x^2+px+q}+\\cdots+\\frac{B_lx+D_l}{x^2+px+q}\r$$ 满足上面要求，则可以用待定系数法改写成上述形式。\n例题\r最后，试试下面的例子。\n$$\r\\int \\frac{3x+6}{(x-1)^2(x^2+x+1)}dx\r$$相信聪明的你一定可以求出。\n","date":"2024-12-06T20:51:30+08:00","permalink":"https://blog.ztcdream.top/p/%E6%9C%89%E7%90%86%E5%87%BD%E6%95%B0%E7%9A%84%E7%A7%AF%E5%88%86/","title":"有理函数的积分"}]